@baseUrl = http://localhost:5000/api
@adminEmail = admin@example.com
@adminPassword = admin123

### 1. Auth
# @name login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "{{adminEmail}}",
  "password": "{{adminPassword}}"
}

###
@token = {{login.response.headers.Set-Cookie}}

### 2. Projects
# List Projects
GET {{baseUrl}}/projects

### Create Project (Admin)
POST {{baseUrl}}/projects
Content-Type: application/json
Cookie: {{token}}

{
  "title": "New Test Project",
  "desc": "Description of the project",
  "tags": ["Test", "API"]
}

### Update Project (Admin)
# Replace :id with actual ID from List Projects
PUT {{baseUrl}}/projects/:id
Content-Type: application/json
Cookie: {{token}}

{
  "title": "Updated Project Title"
}

### Delete Project (Admin)
DELETE {{baseUrl}}/projects/:id
Cookie: {{token}}

### 3. Skills
# List Skills
GET {{baseUrl}}/skills

### Add Skill (Admin)
POST {{baseUrl}}/skills
Content-Type: application/json
Cookie: {{token}}

{
  "name": "Python",
  "level": "Intermediate"
}

### Update Skill (Admin)
PUT {{baseUrl}}/skills/:id
Content-Type: application/json
Cookie: {{token}}

{
  "level": "Expert"
}

### Delete Skill (Admin)
DELETE {{baseUrl}}/skills/:id
Cookie: {{token}}

### 4. Contacts
# Submit Contact Form (Public)
POST {{baseUrl}}/contacts
Content-Type: application/json

{
  "name": "John Doe",
  "email": "john@example.com",
  "message": "Hello there!"
}

# List Contacts (Admin)
GET {{baseUrl}}/contacts
Cookie: {{token}}

# Mark Read (Admin)
PATCH {{baseUrl}}/contacts/:id/read
Cookie: {{token}}

# Delete Contact (Admin)
DELETE {{baseUrl}}/contacts/:id
Cookie: {{token}}

### 5. Social Links
# Get Socials
GET {{baseUrl}}/social

# Update Socials (Admin)
PUT {{baseUrl}}/social
Content-Type: application/json
Cookie: {{token}}

{
  "github": "https://github.com/nomaan",
  "linkedin": "https://linkedin.com/in/nomaan"
}

### 6. Homepage Content
# Get Content
GET {{baseUrl}}/homepage

# Update Content (Admin)
PUT {{baseUrl}}/homepage
Content-Type: application/json
Cookie: {{token}}

{
  "heroTitle": "Welcome to My Portfolio",
  "aboutText": "I am a developer..."
}

### 7. Analytics
# Get Stats (Admin)
GET {{baseUrl}}/analytics/stats
Cookie: {{token}}

# Track Event (Public)
POST {{baseUrl}}/analytics/track
Content-Type: application/json

{
  "event": "test_event",
  "meta": { "foo": "bar" }
}
